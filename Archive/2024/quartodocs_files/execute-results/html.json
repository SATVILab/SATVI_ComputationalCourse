{
  "hash": "1221d49de3246f12810d786a60275da5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Introduction to Quarto\"\nformat: html\nprefer-html: true\nauthor: SATVI Computational Group\ndate: today\n---\n\n\n## Description\n\nQuarto is an open-source new evolution of R Markdown. Quarto supports development in various coding languages and includes publishing and authoring features for individual documents, books, presentations, and websites.\n\nUsing Quarto can provide a helpful structure to organize, annotate, and share your scripts. Well-annotated Quarto documents can also promote code literacy as they are easy to read, write, and modify.\n\nQuarto is very well documented. This tutorial will provide an introduction to some basic features, but we recommend that you explore independently. These links below may be a good place to start:\n\n[Tutorial: Hello, Quarto](https://quarto.org/docs/get-started/hello/rstudio.html)\n\n[Markdown Basics](https://quarto.org/docs/authoring/markdown-basics.html)\n\n### Install R Markdown\n\nTo use Quarto with R you will need to install R Markdown with the rmarkdown R package. This will also install knitr which is used for rendering. After installing rmarkdown, install the quarto R package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"rmarkdown\")\ninstall.packages(\"quarto\")\n```\n:::\n\n\n### Create a Quarto document\n\nFor the purposes of this session, we will introduce using Quarto documents using R. You can also create a Quarto project, which knits together multiple Quarto documents, Quarto presentations, Quarto interactive documents, or Quarto websites. Quarto is also supported by different visual editors including Visual Studio Code (VS Code) which we will cover in a later session.\n\nTo begin:\n\n1.  Open RStudio\n2.  Create a new Quarto document. Go to File -\\> New File -\\> Quarto Document\n\n![](images/createdoc.png)\n\n3.  Enter a name and select your preferred output format and engine. Typically we leave Knitr as the default, but you can change this if necessary.\n\n![](images/newquartodoc.png)\n\n4.  Save the quarto document to your working directory.\n\nNow we can begin with editing the document itself. The most obvious difference in features from a traditional R script is that a Quarto document incorporates code chunks which separate major segments of code into different chunks. Each chunk can be formatted and run separately as well as part of the full script. We recommend that each chunk performs a specific function that can be annotated.\n\nSections of code containing one or more code chunks that perform a specific task can also be denoted in an outline with headings.\n\n### Set the YAML header\n\nAt the top of the Quarto document, you will see a header demarcated by --- at the top and bottom. What is a YAML? YAML (“Yet Another Markup Language” or “YAML Ain't Markup Language,” depending on who you ask) is the metadata that tells R Markdown, Quarto, pandoc, and other software exactly how to process or display the document.\n\n\n\n```{.default}\n---\ntitle: \"Untitled\"\nformat: html\neditor: visual\n---\n```\n\n\nEdit the YAML header to include relevant information.\n\n\n\n```{.default}\n---\ntitle: \"Introduction to Quarto\"\nformat: html\nauthor: SATVI Computational Group\ndate: today\n---\n```\n\n\n### Create a code chunk\n\nYou can do this manually by clicking the green chunk icon on the top right of the toolbar or you can use the keyboard shortcut option + cmd + I. This will produce an empty code chunk with R as the default language.\n\n![](images/createchunk.png)\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| label: R chunk\n\nprint(\"Hello, Quarto!\")\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Hello, Quarto!\"\n```\n\n\n:::\n:::\n\n\nIf you want to change the language, simply specify the language you would like to use in the yellow opening delimiter.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{python}}\n# This is a Python code chunk\nimport math\n\n# Calculate the square root of 16\nsqrt_16 = math.sqrt(16)\n\n# Print the result\nprint(f\"The square root of 16 is {sqrt_16}\")\n```\n````\n\n::: {.cell-output .cell-output-stdout}\n\n```\nThe square root of 16 is 4.0\n```\n\n\n:::\n:::\n\n\n### Tailor the code chunk output\n\nAdd options to each code chunk delimiter to show or hide specific information.\n\n1.  warning = FALSE means do not show any warnings generated by the code in the output\n\n2.  message = FALSE means do not show any messages generated by the code in the output\n\n3.  echo = FALSE means do not show the code in the output\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n# Generate a warning\nx <- -1\nif (x < 0) {\n  warning(\"x is negative!\")\n}\n```\n````\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: x is negative!\n```\n\n\n:::\n\n````{.cell-code}\n```{{r}}\n# Generate a message\ny <- 10\nif (y > 5) {\n  message(\"y is greater than 5\")\n}\n```\n````\n\n::: {.cell-output .cell-output-stderr}\n\n```\ny is greater than 5\n```\n\n\n:::\n:::\n\n\n**Hide the warning from the output**\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r, warning = FALSE}}\n# Generate a warning\nx <- -1\nif (x < 0) {\n  warning(\"x is negative!\")\n}\n\n# Generate a message\ny <- 10\nif (y > 5) {\n  message(\"y is greater than 5\")\n}\n```\n````\n\n::: {.cell-output .cell-output-stderr}\n\n```\ny is greater than 5\n```\n\n\n:::\n:::\n\n\n**Hide the message from the output**\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r, message = FALSE}}\n# Generate a warning\nx <- -1\nif (x < 0) {\n  warning(\"x is negative!\")\n}\n```\n````\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: x is negative!\n```\n\n\n:::\n\n````{.cell-code}\n```{{r, message = FALSE}}\n# Generate a message\ny <- 10\nif (y > 5) {\n  message(\"y is greater than 5\")\n}\n```\n````\n:::\n\n\n**Hide the warning and the message from the output.** You can achieve the same effect using Markdown syntax instead of editing the opening delimiter.\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| warning: false\n#| message: false\n\n# Generate a warning\nx <- -1\nif (x < 0) {\n  warning(\"x is negative!\")\n}\n\n# Generate a message\ny <- 10\nif (y > 5) {\n  message(\"y is greater than 5\")\n}\n```\n````\n:::\n\n\n**Hide the code from the output**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: x is negative!\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\ny is greater than 5\n```\n\n\n:::\n:::\n\n\nMore OPML options can be found [here](https://quarto.org/docs/reference/formats/opml.html).\n\n## View outline\n\nAs you build your script with multiple chunks, an outline will be generated which can be viewed alongside your scirpt or hidden. \n\n![](images/outline.png)\n\n## Now let's test a simple script in Quarto\n\n### Clear environment\n\n\n::: {.cell}\n\n```{.r .cell-code}\nls()\nrm(list=ls())\n```\n:::\n\n\n### Load libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(knitr) # Needed to embed an external image within a code chunk\nlibrary(quarto) # Needed to render Quarto document from R console\nlibrary(ggplot2) # Needed to plot data\n```\n:::\n\n\n### Load dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"esoph\")\n```\n:::\n\n\n### Examine data structure\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(esoph)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  agegp     alcgp    tobgp ncases ncontrols\n1 25-34 0-39g/day 0-9g/day      0        40\n2 25-34 0-39g/day    10-19      0        10\n3 25-34 0-39g/day    20-29      0         6\n4 25-34 0-39g/day      30+      0         5\n5 25-34     40-79 0-9g/day      0        27\n6 25-34     40-79    10-19      0         7\n```\n\n\n:::\n\n```{.r .cell-code}\nsummary(esoph)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   agegp          alcgp         tobgp        ncases         ncontrols     \n 25-34:15   0-39g/day:23   0-9g/day:24   Min.   : 0.000   Min.   : 0.000  \n 35-44:15   40-79    :23   10-19   :24   1st Qu.: 0.000   1st Qu.: 1.000  \n 45-54:16   80-119   :21   20-29   :20   Median : 1.000   Median : 4.000  \n 55-64:16   120+     :21   30+     :20   Mean   : 2.273   Mean   : 8.807  \n 65-74:15                                3rd Qu.: 4.000   3rd Qu.:10.000  \n 75+  :11                                Max.   :17.000   Max.   :60.000  \n```\n\n\n:::\n:::\n\n\nIf you want to display your dataframe in a more aesthetic way, you can use the DT R package.\n\n*Note - This display option is supported by html. If you want to display tables this way AND render to html and non-html formats, you will also need to install \"webshot\" or \"webshot2\" packages that will allow non-html formats to be populated with a snapshot of the table, or include \"prefer-html: true\" in your YAML front-matter.*\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DT)\n\n# Now just use the datatable function to display your table. \n\ndatatable(head(esoph), class = 'cell-border stripe')\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-e33b6389c5f3e16f8dac\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e33b6389c5f3e16f8dac\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"],[\"25-34\",\"25-34\",\"25-34\",\"25-34\",\"25-34\",\"25-34\"],[\"0-39g/day\",\"0-39g/day\",\"0-39g/day\",\"0-39g/day\",\"40-79\",\"40-79\"],[\"0-9g/day\",\"10-19\",\"20-29\",\"30+\",\"0-9g/day\",\"10-19\"],[0,0,0,0,0,0],[40,10,6,5,27,7]],\"container\":\"<table class=\\\"cell-border stripe\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>agegp<\\/th>\\n      <th>alcgp<\\/th>\\n      <th>tobgp<\\/th>\\n      <th>ncases<\\/th>\\n      <th>ncontrols<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[4,5]},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"agegp\",\"targets\":1},{\"name\":\"alcgp\",\"targets\":2},{\"name\":\"tobgp\",\"targets\":3},{\"name\":\"ncases\",\"targets\":4},{\"name\":\"ncontrols\",\"targets\":5}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nFind additional datatable display options [here](https://rstudio.github.io/DT/).\n\n### Plot data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = esoph, aes(x = agegp, y = ncases)) +\n  geom_point() +  # Add points\n  labs(title = \"Esophageal Cancer by Age\", x = \"Age Group\", y = \"Number of Cases\")\n```\n\n::: {.cell-output-display}\n![](quartodocs_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\nQuarto docs also support the import of image files stored externally. These can be arranged inline with your code or text.\n\n## Import an image\n\nThe easiest way to do this is by using R Markdown syntax outside of a code chunk.\n\n\n\n```{.default}\n![SATVI logo](images/satvi_logo.png)\n```\n\n\n![SATVI logo](images/satvi_logo.png)\n\nIf you prefer to import from within a Quarto code chunk, you can do so using knitr\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::include_graphics(\"images/satvi_logo.png\")\n```\n\n::: {.cell-output-display}\n![](images/satvi_logo.png){width=151}\n:::\n:::\n\n\nDocumentation on embedding images can be found [here](https://quarto.org/docs/authoring/figures.html).\n\n## Render the document\n\nWhen you render your document, all code chunks and inline code will be executed automatically. You can render the document with point-and-click, directly from the RStudio console, or from the command line in the Terminal. To render your Quarto document using point-and-click:\n\n**1. Render using point-and-click**\n\n![](images/render.png) \n\nThis will open a preview of your rendered document automatically. You can select the type of preview you prefer using the drop down menu. If you select \"Preview in Window,\" a separate window with your rendered file will open in your browser. If you select \"Preview in Viewer Pane,\" a viewer pane will open within RStudio. This viewer pane will automatically update as you edit your code, so it can be helpful to select this option as you modify your documents as it will give you real-time visual updates of changes made. \n\n![](images/preview.png)\n\nYou can also choose to render on every save by checking the box in the toolbar:\n\n![](images/renderonsave.png)\n\n**2. Render from the RStudio console**\n\nYou will need to download and install the Quarto command line interface [Quarto CLI](https://quarto.org/docs/get-started/). Now type the following directly into the RStudio console. \n\n\n\n```{.default}\nquarto_render(\"quartodocs.qmd\") # This will render all formats\n\n# You can also render to specific formats\nquarto_render(\"quartodocs.qmd\", output_format = \"html\")\nquarto_render(\"quartodocs.qmd\", output_format = \"pdf\")\nquarto_render(\"quartodocs.qmd\", output_format = \"docx\")\n```\n\n\n**3. Render from the command line**\n\nOpen the Terminal.\n\n\n\n```{.default}\nquarto render quartodocs.qmd # This will render all formats\n\n# You can also render to specific formats\n\nquarto render quartodocs.qmd --to html\nquarto render quartodocs.qmd --to pdf\nquarto render quartodocs.qmd --to docx\n```\n\n\nFurther information on rendering can be found [here](https://quarto.org/docs/computations/r.html#rendering).\n\n## Cheatsheets\n\nHere are 2 helpful cheatsheets for working with Quarto in R:\n\n[Quarto by RStudio](https://rstudio.github.io/cheatsheets/quarto.pdf)\n\n[datacamp Quarto Cheetsheet](https://images.datacamp.com/image/upload/v1676540721/Marketing/Blog/Quarto_Cheat_Sheet.pdf)\n\n## Homework\n\n**Get familiar with Quarto**\n\n1.  Set up a Quarto document and save to your course working directory.\n2.  Populate the Quarto document with your own code, make sure each chunk and the full script runs without errors.\n3.  Render the Quarto document to html and pdf (docx if you choose).\n4.  Go back to the script and tailor the code chunk options to suit your visual preferences.\n5.  Render the Quarto document again.\n6.  Experiment with other Quarto features. We recommend initializing a Quarto project, which can knit together multiple Quarto documents into a book, website, presentation, or interactive document.\n\nRemember you can always find help using the R package documentation for rmarkdown and quarto. To access the package documentation, type the following:\n\n\n\n```{.default}\n?rmarkdown\n?quarto\n```\n\n\n**Prepare for our next session**\n\nInstructions for downloads can be found on the installations page.\n\n1.  If you have not done so already, make an online GitHub account.\n2.  Access the SATVILab GitHub.\n3.  Download and install GitHub Desktop and login with your GitHub account.\n",
    "supporting": [
      "quartodocs_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}